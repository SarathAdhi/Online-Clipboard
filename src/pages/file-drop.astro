---
import PageLayout from "@layouts/PageLayout.astro";
import FileDropSection from "@modules/file-drop";
import IntroSectionFileDrop from "@modules/file-drop/IntroSectionFileDrop.astro";
import { uuid as funcUuid } from "@utils/uuid";

const { url } = Astro;

const id = url.searchParams.get("id");

const uuid = id || funcUuid();

if (!id) {
  return Astro.redirect(`/file-drop?id=${uuid}`);
}
---

<PageLayout title="File Drop">
  <FileDropSection client:load uuid={uuid} />

  <IntroSectionFileDrop />
</PageLayout>
