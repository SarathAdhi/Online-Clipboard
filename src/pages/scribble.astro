---
import PageLayout from "@layouts/PageLayout.astro";
import ScribbleBoard from "@modules/Scribble";
import IntroSectionScribble from "@modules/Scribble/IntroSectionScribble.astro";
import { uuid as funcUuid } from "@utils/uuid";

const { url } = Astro;

const id = url.searchParams.get("id");

const uuid = id || funcUuid();

if (!id) {
  return Astro.redirect(`/scribble?id=${uuid}`);
}
---

<PageLayout
  title="Live Scribble | 0cb"
  description="Live Scribble is a free online whiteboard that allows you to collaborate with others in real time. It is a canvas that can be used for brainstorming, tutoring, designing, and more."
>
  <ScribbleBoard client:load uuid={uuid} />

  <IntroSectionScribble />
</PageLayout>
