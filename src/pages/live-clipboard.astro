---
import PageLayout from "@layouts/PageLayout.astro";
import IntroSectionRT from "@modules/Realtime/IntroSectionRT.astro";
import RealtimeCbForm from "@modules/Realtime/RealtimeCbForm";

import { uuid as funcUuid } from "@utils/uuid";

const { url } = Astro;

const id = url.searchParams.get("id");

const uuid = id || funcUuid();

if (!id) {
  return Astro.redirect(`/live-clipboard?id=${uuid}`);
}
---

<PageLayout
  title="Live ClipBoard (Share live with your friends)"
  description="Realtime Clipboard to share text between computers very easy."
>
  <RealtimeCbForm client:load uuid={uuid} />

  <IntroSectionRT />
</PageLayout>
