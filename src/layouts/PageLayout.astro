---
import { cn } from "@utils/cn";
import "@styles/global.css";
import ReactToast from "@components/ReactToast";
import { keywords } from "../../package.json";
import { theme } from "@utils/store";
import { Analytics } from "@vercel/analytics/react";
import Navbar from "@components/Navbar.astro";

const {
  title,
  className,
  description = "0CB is a free online tool that helps you to copy and retrieve text and images between any devices. Just copy the text or image and share the ID. Now it supports Realtime clipboard and scribble too.",
} = Astro.props;

const myTheme = Astro.cookies.get("theme").value || "dark";
theme.set(myTheme);
---

<html lang="en" id="html-element" class={theme.value}>
  <head>
    <title>{title}</title>

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="sitemap" href="/sitemap-index.xml" />

    <meta name="theme-color" content="#212121" />
    <meta charset="utf-8" />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <meta name="description" content={description} />

    <meta
      name="keywords"
      content="Online Clipboard, Free Online Clipboard, Online Clipboard (Sync Automatically in Realtime), 0cb, live clipboard"
    />

    <!-- <meta
      name="keywords"
      content={keywords.join(", ") + ", " + description?.split(" ")?.join(", ")}
    /> -->

    <!-- Old -->
    <!-- <meta
      name="google-site-verification"
      content="yEMc_cA98BPS3jVS06ctOQF5NZiKOfCjnt5Wa8-OgeY"
    /> -->

    <meta
      name="google-site-verification"
      content="WktRMnuQpbrSHf_4e4jnomLNRgJhchMYsVaJPNMNYuk"
    />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3686965845963720"
      crossorigin="anonymous"
    ></script>

    <meta name="generator" content={Astro.generator} />

    <script>
      import "../script/router.ts";
    </script>

    <style is:global>
      @font-face {
        font-family: "Hubot Sans";
        src: url("/fonts/Hubot-Sans.woff2") format("woff2 supports variations"),
          url("/fonts/Hubot-Sans.woff2") format("woff2-variations");
        font-weight: 200 900;
        font-stretch: 75% 125%;
      }

      html {
        font-family: "Hubot Sans" !important;
      }
    </style>
  </head>

  <body
    class="min-h-screen dark:bg-black bg-slate-100 flex flex-col items-center"
  >
    <Navbar {...{ theme }} />

    <main
      class={cn(
        "flex-1 h-full w-full max-w-[1280px] p-2 sm:p-4 flex flex-col gap-2 sm:gap-4",
        className
      )}
    >
      <slot />
    </main>

    <ReactToast client:load />
    <Analytics client:only />
  </body>
</html>
